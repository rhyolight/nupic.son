(function(a){a.fn.dynamicoptions=function(g){var b=a.extend({},g);return this.each(function(){var e=function(c){field="";field+="<div>";field+='<a href="#" class="remove" title="X">X</a>';var d=0;for(var h in b.fields){value=c?c[d]:"";field+='<input type="text" name='+h+' class="tagfield" value="'+unescape(value)+'" />';d+=1}field+="</div>";return field};field='<label class="form-label">'+b.label+"</label>";var f=JSON.parse(b.initial);for(var i in f)field+=e(f[i]);field+='<div class="add-area clearfix"><a id=add-'+
b.id+' href="#" class="add">Add</a></div>';a(this).append(field);a("#add-"+b.id).live("click",function(){a(this).parent().before(e());return false});a(".remove").live("click",function(){a(this).parent("div").animate({opacity:"hide",height:"hide",marginBottom:"0px"},"fast",function(){a(this).remove()});return false})})}})(jQuery);
